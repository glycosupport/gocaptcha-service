<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Varela+Round&display=swap" rel="stylesheet">

    <title>gocaptcha</title>

    <style>
        body {
            display: block;
            position: center;
            font-family: 'Space Mono', monospace;
            background-color: rgb(240, 244, 247);
            background: linear-gradient(-70deg, #202020, #000000);
            height: 98vh;
        }

        /* Background circles start */
        .circle {
            position: absolute;
            border-radius: 50%;
            background: linear-gradient(120deg, #1D976C, #2c3e50);
        }

        .circles {
            position: absolute;
            height: 800px;
            width: 1000px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: -1;
        }

        .circle-1 {
            height: 400px;
            width: 400px;
            top: 80px;
            left: -110px;
            opacity: 0.8;
            animation-timing-function: cubic-bezier(0.54, 0.085, 0.5, 0.92);
            animation-iteration-count: infinite;
            animation-name: float;
            -webkit-animation-name: float;
            animation-duration: 6s;
            -webkit-animation-duration: 6s;
            -webkit-animation-delay: 3.5s;
            animation-delay: 3.5s;
            animation-direction: alternate;
        }

        .circle-2 {
            height: 410px;
            width: 410px;
            bottom: 40px;
            right: -80px;
            opacity: 0.8;
            animation-timing-function: cubic-bezier(0.54, 0.085, 0.5, 0.92);
            animation-iteration-count: infinite;
            animation-name: float;
            -webkit-animation-name: float;
            animation-duration: 6s;
            -webkit-animation-duration: 6s;
            -webkit-animation-delay: 2s;
            animation-delay: 2s;
            animation-direction: alternate;
        }

        /* Background circles end */

        /* ANIMATIONS */
        @keyframes explode {
            0% {
                opacity: 1;
            }

            100% {
                transform: scale(1.2);
                opacity: 0;
            }
        }

        @keyframes float {
            0% {
                -webkit-transform: rotateX(0deg) translateY(0px);
                -moz-transform: rotateX(0deg) translateY(0px);
                -ms-transform: rotateX(0deg) translateY(0px);
                -o-transform: rotateX(0deg) translateY(0px);
                transform: rotateX(0deg) translateY(0px);
            }

            50% {
                -webkit-transform: rotateX(0deg) translateY(1px) translateX(5px);
                -moz-transform: rotateX(0deg) translateY(10px) translateX(5px);
                -ms-transform: rotateX(0deg) translateY(30px) translateX(5px);
                -o-transform: rotateX(0deg) translateY(40px) translateX(5px);
                transform: rotateX(0deg) translateY(10px) translateX(5px);
            }

            100% {
                -webkit-transform: rotateX(0deg) translateY(0px) translateX(1px);
                -moz-transform: rotateX(0deg) translateY(0px) translateX(1px);
                -ms-transform: rotateX(0deg) translateY(0px) translateX(1px);
                -o-transform: rotateX(0deg) translateY(0px) translateX(1px);
                transform: rotateX(0deg) translateY(0px) translateX(1px);
            }
        }

        .mdl {
            height: auto;
            width: auto;
            position: absolute;
            top: 50%;
            left: 57%;
            transform: translate(-60%, -60%);
        }

        .card {
            height: 500px;
            width: 900px;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(35px);
            border: 2px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 80px rgba(0, 0, 0, 0.25);
            padding: 30px 30px 30px 30px;
            overflow: hidden;
        }

        .logo {
            padding-bottom: 40px;
            opacity: 0.9;
        }

        input[id="card-number"] {
            font-size: 30px;
            font-family: 'Space Mono', monospace;
            width: 100%;
            height: 50px;
        }

        input[id="card-number"]::placeholder {
            color: #b5b5b5;
            font-size: 30px;
            font-family: 'Space Mono', monospace;
        }

        input::placeholder {
            color: #b5b5b5;
            font-family: 'Space Mono', monospace;
        }

        .group {
            display: inline-flex;
            margin: 0;
            padding: 0;

        }

        .card-number {
            position: relative;
            display: inline-block;
            overflow: hidden;
            margin-bottom: 30px;
        }

        .card-number>input[id="card-number"] {
            border: none;
            margin-bottom: 0px;
            outline: none;
        }

        .card-name>input[id="card-name"] {
            border: none;
            margin-bottom: 0px;
            outline: none;
        }

        .card-exp>input[id="card-exp"] {
            border: none;
            margin-bottom: 0px;
            outline: none;
        }

        .card-ccv>input[id="card-ccv"] {
            border: none;
            margin-bottom: 0px;
            outline: none;
        }

        .underline {
            transition: all 1s;
            display: inline-block;
            bottom: 0;
            left: -100%;
            position: absolute;
            width: 100%;
            height: 2px;
            background-color: #ffffff;
        }

        .card-number>input[id="card-number"]:hover+.underline {
            left: 0;
        }

        .card-number>input[id="card-number"]:focus+.underline {
            left: 0;
        }

        .card-name>input[id="card-name"]:hover+.underline {
            left: 0;
        }

        .card-name>input[id="card-name"]:focus+.underline {
            left: 0;
        }

        .expiration-date>input[id="card-exp"]:hover+.underline {
            left: 0;
        }

        .expiration-date>input[id="card-exp"]:focus+.underline {
            left: 0;
        }

        .ccv>input[id="card-ccv"]:hover+.underline {
            left: 0;
        }

        .ccv>input[id="card-ccv"]:focus+.underline {
            left: 0;
        }

        .card-name {
            font-family: 'Space Mono', monospace;
            padding: 0px 80px 0px 0px;
            margin-right: 40px;
            width: 100px;
            position: relative;
            display: inline-block;
            overflow: hidden;
        }

        .expiration-date {
            font-family: 'Space Mono', monospace;
            padding: 0px 0px 0px 0px;
            margin-right: 60px;
            width: 80px;
            position: relative;
            display: inline-block;
            overflow: hidden;
        }

        .ccv {
            font-family: 'Space Mono', monospace;
            padding: 0px 0px 0px 0px;
            margin-right: 0px;
            width: 60px;
            position: relative;
            display: inline-block;
            overflow: hidden;
        }

        input {
            font-family: 'Space Mono', monospace;
            border: none;
            font-size: 16px;
            height: 26px;
            color: #ffffff;
            background: 0;
            padding: 0;
            width: 0;
        }

        input[id="card-number"]:focus {
            border: none;
            border-bottom: 2px solid white;
            color: white;
            font-size: 30px;
            height: 50px;
            margin-bottom: -2px;
            width: 400px;
        }

        input[id="card-number"]:hover {
            border: none;
            border-bottom: 2px solid white;
            color: white;
            font-size: 30px;
            height: 50px;
            margin-bottom: -2px;
            width: 400px;
        }

        input[id="card-name"] {
            color: white;
            margin-bottom: -2px;
            font-size: 16px;
            height: 26px;
            width: 160px;
        }

        input[id="card-name"]:hover {
            border-bottom: 2px solid white;
            color: white;
            margin-bottom: -2px;
            font-size: 16px;
            height: 26px;
            width: 160px;
        }

        input[id="card-name"]:focus {
            border-bottom: 2px solid white;
            color: white;
            margin-bottom: -2px;
            font-size: 16px;
            height: 26px;
            width: 160px;
        }

        input[id="card-exp"]:hover {
            border-bottom: 2px solid white;
            color: white;
            margin-bottom: -2px;
            font-size: 16px;
            height: 26px;
            width: 80px;
        }

        input[id="card-exp"]:focus {
            border-bottom: 2px solid white;
            color: white;
            margin-bottom: -2px;
            font-size: 16px;
            height: 26px;
            width: 80px;
        }

        input[id="card-ccv"]:hover {
            border-bottom: 2px solid white;
            color: white;
            margin-bottom: -2px;
            font-size: 16px;
            height: 26px;
            width: 50px;
        }

        input[id="card-ccv"]:focus {
            border-bottom: 2px solid white;
            color: white;
            margin-bottom: -2px;
            font-size: 16px;
            height: 26px;
            width: 50px;
        }

        label {
            color: white;
            font-size: 12px;
            font-weight: normal;
            font-family: 'Space Mono', monospace;
            pointer-events: none;
            display: block;
            padding-bottom: 2px;

        }

        button,
        input[type="submit"],
        input[type="reset"] {
            font-family: 'Space Mono', monospace;
            font-size: 15px;
            background: none;
            color: #b5b5b5;
            border: none;
            padding: 0;
            cursor: pointer;
            outline: inherit;
            display: flex;
            align-content:flex-start;
        }

        button:hover {
            transition: 1s;
            color: white;
        }

        .range {
            display: flex;
            flex-direction: column;
        }

        .range input {
            -webkit-appearance: none;
            width: 200px;
            height: 4px;
            border-radius: 5px;
            background-color: #1D976C;
            outline: none;
            margin: 10px;
        }

        .range span {
            display: inline-block;
            color: white;
            margin: 10px;
        }

        .range input::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background-color: #2c3e50;
        }

        .captcha-form {
            height: 40%;
            display: flex;
            flex-direction: row;
            justify-content: center;

            align-items: center;
            align-content: center;
        }

        .captcha-form #captcha-image {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 430px;
            height: 140px;
            border-radius: 30px;
            box-shadow: inset 0px 0px 10px rgba(0, 0, 0, 0.5);
        }

        #captcha-form {
            display: flex;
            flex-direction: column;
        }

        .captcha-form div {
            margin: 5px 10px;

        }

        .settings {
            display: flex;
            justify-content: space-between;
        }


        @supports (-webkit-appearance: none) or (-moz-appearance: none) {

            input[type='checkbox'],
            input[type='radio'] {
                --active: #1D976C;
                --active-inner: #fff;
                --focus: 2px rgba(44, 62, 80, .3);
                --border: #4D6986;
                --border-hover: #2c3e50;
                --background: #fff;
                --disabled: #f6f8ff;
                --disabled-inner: #e1e6f9;
                -webkit-appearance: none;
                -moz-appearance: none;
                height: 21px;
                outline: none;
                display: inline-block;
                vertical-align: top;
                position: relative;
                margin: 0;
                cursor: pointer;
                border: 1px solid var(--bc, var(--border));
                background: var(--b, var(--background));
                transition: background 0.3s, border-color 0.3s, box-shadow 0.2s;
            }

            input[type='checkbox']:after,
            input[type='radio']:after {
                content: '';
                display: block;
                left: 0;
                top: 0;
                position: absolute;
                transition: transform var(--d-t, 0.3s) var(--d-t-e, ease), opacity var(--d-o, 0.2s);
            }

            input[type='checkbox']:checked,
            input[type='radio']:checked {
                --b: var(--active);
                --bc: var(--active);
                --d-o: 0.3s;
                --d-t: 0.6s;
                --d-t-e: cubic-bezier(0.2, 0.85, 0.32, 1.2);
            }

            input[type='checkbox']:disabled,
            input[type='radio']:disabled {
                --b: var(--disabled);
                cursor: not-allowed;
                opacity: 0.9;
            }

            input[type='checkbox']:disabled:checked,
            input[type='radio']:disabled:checked {
                --b: var(--disabled-inner);
                --bc: var(--border);
            }

            input[type='checkbox']:disabled+label,
            input[type='radio']:disabled+label {
                cursor: not-allowed;
            }

            input[type='checkbox']:hover:not(:checked):not(:disabled),
            input[type='radio']:hover:not(:checked):not(:disabled) {
                --bc: var(--border-hover);
            }

            input[type='checkbox']:focus,
            input[type='radio']:focus {
                box-shadow: 0 0 0 var(--focus);
            }

            input[type='checkbox']:not(.switch),
            input[type='radio']:not(.switch) {
                width: 21px;
            }

            input[type='checkbox']:not(.switch):after,
            input[type='radio']:not(.switch):after {
                opacity: var(--o, 0);
            }

            input[type='checkbox']:not(.switch):checked,
            input[type='radio']:not(.switch):checked {
                --o: 1;
            }

            input[type='checkbox']+label,
            input[type='radio']+label {
                font-size: 14px;
                line-height: 21px;
                display: inline-block;
                vertical-align: top;
                cursor: pointer;
                margin-left: 4px;
            }

            input[type='checkbox']:not(.switch) {
                border-radius: 7px;
            }

            input[type='checkbox']:not(.switch):after {
                width: 5px;
                height: 9px;
                border: 2px solid var(--active-inner);
                border-top: 0;
                border-left: 0;
                left: 7px;
                top: 4px;
                transform: rotate(var(--r, 20deg));
            }

            input[type='checkbox']:not(.switch):checked {
                --r: 43deg;
            }

            input[type='checkbox'].switch {
                width: 38px;
                border-radius: 11px;
            }

            input[type='checkbox'].switch:after {
                left: 2px;
                top: 2px;
                border-radius: 50%;
                width: 15px;
                height: 15px;
                background: var(--ab, var(--border));
                transform: translateX(var(--x, 0));
            }

            input[type='checkbox'].switch:checked {
                --ab: var(--active-inner);
                --x: 17px;
            }

            input[type='checkbox'].switch:disabled:not(:checked):after {
                opacity: 0.6;
            }

            input[type='radio'] {
                border-radius: 50%;
            }

            input[type='radio']:after {
                width: 19px;
                height: 19px;
                border-radius: 50%;
                background: var(--active-inner);
                opacity: 0;
                transform: scale(var(--s, 0.7));
            }

            input[type='radio']:checked {
                --s: 0.5;
            }
        }

        ul {
            margin: 12px;
            padding: 0;
            list-style: none;
            width: 100%;
            max-width: 320px;
        }

        ul li {
            margin: 16px 0;
            position: relative;
        }

        .colors {
            height: 250px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            margin: 0px 0px 0px 30px;
        }

        .menu-wrapper {
            margin: 10px 0px;
            display: flex;
            justify-content: center;
            position: absolute;
            bottom: -5%;
            left: 33%;
        }

        .menu ul {
            width: 400px;
            display: flex;
            flex-direction: row;
            justify-content: space-between;
        }

        .fonts {
            display: flex;
            flex-direction: row;
        }

        .fonts-1 {
            margin: 0px 60px 0px 0px;
        }

        .fonts-1 .fonts-2 {
            display: flex;
            flex-direction: column;
        }
    </style>

</head>

<body>
    <div class="box">


        <div class="mdl">
            <div class="circles">
                <div class="circle circle-1"></div>
                <div class="circle circle-2"></div>
            </div>

            <div class="card">
                <div class="captcha-form">

                    <div id="captcha-image">

                    </div>
                </div>

                <div class="settings">
                    <div class="ranges">
                        <div class='range'>
                            <span>Length</span>
                            <input id="range-length" type="range" min='0' max='100' step='1' value="6"
                                oninput="rangeLength(this.value)" onchange="rangeLength(this.value)" />
                        </div>

                        <div class="range">
                            <span>Noise</span>
                            <input id="range-noise" type="range" min='0' max='100' step='1' value="0"
                                oninput="rangeNoise(this.value)" onchange="rangeNoise(this.value)" />
                        </div>

                        <div class="range">
                            <span>Lines</span>
                            <input id="range-lines" type="range" min='0' max='100' step='1' value="3"
                                oninput="rangeLines(this.value)" onchange="rangeLines(this.value)" />
                        </div>

                        <div class="range">
                            <span>Width</span>
                            <input id="range-width" type="range" min='20' max='480' step='1' value="240"
                                oninput="rangeWidth(this.value)" onchange="rangeWidth(this.value)" />
                        </div>

                        <div class="range">
                            <span>Height</span>
                            <input id="range-height" type="range" min='20' max='180' step='1' value="60"
                                oninput="rangeHeight(this.value)" onchange="rangeHeight(this.value)" />
                        </div>
                    </div>

                    <div class="fonts">

                        <div class="fonts-1">
                            <ul>
                                <li>
                                    <input id="abduction" type="checkbox" class="switch" onchange="addFont('abduction.ttf', this)">
                                    <label for="abduction">abduction</label>
                                </li>
                                <li>
                                    <input id="dotmartrix" type="checkbox" class="switch" onchange="addFont('dotmartrix.ttf', this)">
                                    <label for="dotmartrix">dotmartrix</label>
                                </li>
                                <li>
                                    <input id="hacked" type="checkbox" class="switch" onchange="addFont('hacked.ttf', this)">
                                    <label for="hacked">hacked</label>
                                </li>
                                <li>
                                    <input id="heartless" type="checkbox" class="switch" onchange="addFont('heartless.ttf', this)">
                                    <label for="heartless">heartless</label>
                                </li>
                                <li>
                                    <input id="linebeam" type="checkbox" class="switch" onchange="addFont('linebeam.ttf', this)">
                                    <label for="linebeam">linebeam</label>
                                </li>
                                <li>
                                    <input id="modular" type="checkbox" class="switch" onchange="addFont('modular.ttf', this)">
                                    <label for="modular">modular</label>
                                </li>

                            </ul>
                        </div>

                        <div class="fonts-2">
                            <ul>
                                <li>
                                    <input id="neonize" type="checkbox" class="switch" onchange="addFont('neonize.ttf', this)">
                                    <label for="neonize">neonize</label>
                                </li>
                                <li>
                                    <input id="positive" type="checkbox" class="switch" onchange="addFont('positive.ttf', this)">
                                    <label for="positive">positive</label>
                                </li>
                                <li>
                                    <input id="tourner" type="checkbox" class="switch" onchange="addFont('tourner.ttf', this)">
                                    <label for="tourner">tourner</label>
                                </li>
                                <li>
                                    <input id="vogue" type="checkbox" class="switch" checked onchange="addFont('vogue.ttf', this)">
                                    <label for="vogue">vogue</label>
                                </li>
                                <li>
                                    <input id="perspect" type="checkbox" class="switch" onchange="addFont('perspect.ttf', this)">
                                    <label for="perspect">perspect</label>
                                </li>
                                <li>
                                    <input id="cubic" type="checkbox" class="switch" onchange="addFont('cubic.ttf', this)">
                                    <label for="cubic">cubic</label>
                                </li>

                            </ul>
                        </div>

                    </div>

                    <div class="colors">
                        <div class="card-name" id="source">
                            <label>Source</label>
                            <input id="card-name" name="source" placeholder="123456789" type="text" required>
                            <span class="underline"></span>
                        </div>
                        <div class="card-name" id="r">
                            <label>R</label>
                            <input id="card-name" name="r" placeholder="0-255" type="text" required>
                            <span class="underline"></span>
                        </div>
                        <div class="card-name" id="g">
                            <label>G</label>
                            <input id="card-name" name="g" placeholder="0-255" type="text" required>
                            <span class="underline"></span>
                        </div>
                        <div class="card-name" id="b">
                            <label>B</label>
                            <input id="card-name" name="b" placeholder="0-255" type="text" required>
                            <span class="underline"></span>
                        </div>
                        <div class="card-name" id="a">
                            <label>A</label>
                            <input id="card-name" name="a" placeholder="0-255" type="text" required>
                            <span class="underline" onclick=""></span>
                        </div>
                        <button onclick="apply()">Apply</button>
                    </div>
                </div>

                <div class="menu-wrapper">
                    <div class="menu">
                        <ul>
                            <li>
                                <input id="r1" type="radio" name="radio" value="1" checked onclick="changeMenu()">
                                <label for="r1">String</label>
                            </li>
                            <li>
                                <input id="r2" type="radio" name="radio" value="2" onclick="changeMenu()">
                                <label for="r2">Math</label>
                            </li>
                            <li>
                                <input id="r3" type="radio" name="radio" value="3" onclick="changeMenu()">
                                <label for="r3">Digits</label>
                            </li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>

        <!-- var source = document.querySelector('#source input').value
            var r = parseInt(document.querySelector('#r input').value)
            var g = parseInt(document.querySelector('#g input').value)
            var b = parseInt(document.querySelector('#b input').value)
            var a = parseInt(document.querySelector('#a input').value)

            if (source == '') {
                source = 'ABCDEFGHJKMNOQRSTUVXYZabcdefghjkmnoqrstuvxyz'
            }

            if (r == NaN || r < 0 || r > 255) {
                r = 255
            }

            if (g == NaN || g < 0 || g > 255) {
                g = 255
            }

            if (b == NaN || b < 0 || b > 255) {
                b = 255
            }

            if (a == NaN || a < 0 || a > 255) {
                a = 255
            }
            
            config.source = source
            config.bg.r = r
            config.bg.g = g
            config.bg.b = b
            config.bg.a = a

            getCustom() -->


    </div>

    <script>

        let config = {
            
            length: 6,
            noise: 0,
            lines: 3,
            width: 240,
            height: 60,
            fonts: [
                "vogue.ttf",
            ],
            bg: {
                r: 255,
                g: 255,
                b: 255,
                a: 0
            },
            source: "ABCDEFGHJKMNOQRSTUVXYZabcdefghjkmnoqrstuvxyz"
        }

        getCustom()

        function getCustom() {
            var xmlHttp = new XMLHttpRequest()
            xmlHttp.open("POST", "/custom/", false)
            xmlHttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
            console.log(JSON.stringify(config))
            xmlHttp.send(JSON.stringify(config))

            const obj = JSON.parse(xmlHttp.responseText)
            const url = obj.captcha

            xmlHttp.open("GET", url, false)
            xmlHttp.send(null)

            document.getElementById("captcha-image").innerHTML = xmlHttp.responseText
        }

        function apply() {
            var xmlHttp = new XMLHttpRequest()
            xmlHttp.open("POST", "/verify/", false)
            xmlHttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");

            let data = {
                hash: "853246c42318b623509d37e27cf0c836",
                code: "mvzkhr"
            }

            xmlHttp.send(JSON.stringify(data))

        }


        function changeMenu() {

            var r1 = document.querySelector('.menu #r1')
            var r2 = document.querySelector('.menu #r2')
            var r3 = document.querySelector('.menu #r3')

            console.log(r1.checked, r2.checked, r3.checked)

        }

        function addFont(fontName, element) {
            if (config.fonts.includes(fontName)) {
                config.fonts.splice(config.fonts.indexOf(fontName), 1)
            } else {
                config.fonts.push(fontName)
            }
            getCustom()
        }

        function rangeLength(newVal) {
            config.length = +newVal
            getCustom()
        }

        function rangeNoise(newVal) {
            config.noise = +newVal
            getCustom()
        }

        function rangeLines(newVal) {
            config.lines = +newVal
            getCustom()
        }

        function rangeWidth(newVal) {
            config.width = +newVal
            getCustom()
        }

        function rangeHeight(newVal) {
            config.height = +newVal
            getCustom()
        }
    </script>

</body>

</html>